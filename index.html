<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Dcode by deckardai</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Dcode</h1>
          <h2>A url scheme to share code: dcode://</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/deckardai/dcode/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/deckardai/dcode/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/deckardai/dcode" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="dcode" class="anchor" href="#dcode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>dcode://</h1>

<p>Dcode is a URL scheme for sharing code.</p>

<pre><code>pip install --user dcode &amp;&amp; python -m dcode install
</code></pre>

<h1>
<a id="link-to-code" class="anchor" href="#link-to-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Link-to-code</h1>

<p>A dCode URL represents a location in a codebase.</p>

<p>A dCode handler finds this code on a particular computer and opens it with the user's preferred editor.</p>

<p>URLs can be shared within a team, embedded in documentation, tickets, comments, or simply stored as personal bookmarks. Same as HTTP.</p>

<p>URLs support different degrees of precision and are capable of describing what a location means across code changes. It can mean "this exact place and time" or "this function definition in the latest master".</p>

<h2>
<a id="strict-mode" class="anchor" href="#strict-mode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Strict mode</h2>

<p>A dCode URL that contains a repository URL, commit ID, path, line and column numbers uniquely identifies a location. It may also contain other details for readability, or to allow friendly alternative behaviors of handlers.</p>

<h2>
<a id="human-friendly-mode" class="anchor" href="#human-friendly-mode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Human-friendly mode</h2>

<p>URLs may omit all parts but the path. This makes it easy to write them by hand or to generate them from other tools. Handlers should make their best efforts to locate the code that best matches the URL.</p>

<h1>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h1>

<p>Absolute minimum. When referring to a file, simply add "dcode colon triple slash" in front of it.</p>

<pre><code>dcode:///some_pretty_specific/filename.js
</code></pre>

<p>If the path is not unique enough (like main.js), add the repo name between the slashes:</p>

<pre><code>dcode://my_project/main.js
</code></pre>

<p>Add basic in-file location:</p>

<pre><code>dcode://my_project/main.js?line=12
</code></pre>

<p>Make it robust to changes using words. The handler can be smart and find it even after the code has changed, within reason:</p>

<pre><code>dcode://my_project/main.js?line=12&amp;column=4&amp;word=MyComponent,function
</code></pre>

<p>Make it unambiguous across spacetime, complete with git url and commit id.</p>

<pre><code>dcode://my_project/README.md?git=git%40github.com%3Adeckardai%2Fdcode.git&amp;h=63d2f71&amp;line=12&amp;column=3
</code></pre>

<p>Of course, those would rather be generated by tools, for instance editor plugins.</p>

<h1>
<a id="specification" class="anchor" href="#specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Specification</h1>

<p>A dCode URL is composed of a mandatory path and optional repository and file information (spaces for readability):</p>

<pre><code>dcode:// repo_name / path ? repo_spec &amp; code_spec
</code></pre>

<p><code>path</code>: the path to a file relative to the root of a project, typically a git repository.</p>

<p><code>repo_name</code>: the common name of the repo, the last part of a repo url and typically the name of the local working directory.</p>

<p><code>repo_spec</code> can indicate version control details, such as branch names and commit ids.</p>

<p><code>code_spec</code> can indicate the location of code inside of a file.</p>

<p>Parameters, if present, should appear in the following order, so that people can learn to read them quickly.</p>

<h2>
<a id="repository-specification" class="anchor" href="#repository-specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Repository specification</h2>

<p><code>git</code>: a URL that can be interpreted by git. Must be URL-encoded.</p>

<p><code>hg</code>: a URL that can be interpreted by mercurial. Must be URL-encoded.</p>

<p><code>commit</code> or <code>h</code>: a specific commit hash.</p>

<p><code>branch</code> or <code>b</code>: a branch or tag.</p>

<p><code>date</code> or <code>d</code>: a date as YYYY-MM-DD, representing the last commit of the day in UTC, in the specified or the default branch.</p>

<h2>
<a id="code-specification" class="anchor" href="#code-specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code specification</h2>

<p><code>line</code> or <code>l</code>: line number starting at 1.</p>

<p><code>column</code> or <code>c</code>: column number starting at 1.</p>

<p><code>word</code> or <code>w</code>: one or more words that should appear at the URL location. Several words can be given, separated by commas. Words should be interpreted as case-insensitive, unless they explicitely contain an uppercase letter. This allows handlers to find code across changes.</p>

<h2>
<a id="name" class="anchor" href="#name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Name</h2>

<p>A name or comment can be added at the end of URLs like this: <code>#--Some_name</code>. This makes links easier to manage.</p>

<h1>
<a id="implementation" class="anchor" href="#implementation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Implementation</h1>

<p>The current implementation looks for all git or mercurial repositories in the home directory, by default. It can open files at the right place in any code editor. A couple of presets are provided. Contributions welcome!</p>

<h1>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h1>

<pre><code>pip install --user dcode &amp;&amp; python -m dcode install
</code></pre>

<p>This will install the url handler and open a test file after a few seconds.
DCode will likely select a basic text editor.</p>

<p>If you don't have pip yet:</p>

<pre><code>easy_install pip
</code></pre>

<h1>
<a id="configure" class="anchor" href="#configure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure</h1>

<pre><code>Edit `~/.dcode.json` to choose your actual IDE.
</code></pre>

<p>You should now be able to click links and end up right in your text editor.</p>

<h1>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h1>

<p>Demo link: <a href="http://dcode.online/_demo/demo.txt?l=3&amp;c=30">dcode://_demo/demo.txt?l=3&amp;c=30</a></p>

<p>Or simulating if the link is not clickable for you:</p>

<pre><code>python -m dcode 'dcode://_demo/demo.txt?l=3&amp;c=30'
</code></pre>

<h1>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h1>

<p>Ideas and bug reports are welcome in <em>Issues</em>, or code as pull requests.</p>

<p>Examples:</p>

<ul>
<li><p>Editor plugins generating URLs.</p></li>
<li><p>Make something more robust in a particular environment.</p></li>
<li><p>Make URLs more robust to code changes, multiple branches, and such.</p></li>
</ul>

<h2>
<a id="development-setup" class="anchor" href="#development-setup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development setup:</h2>

<pre><code>git clone https://github.com/deckardai/dcode.git
cd dcode
pip install --user -e .
</code></pre>
        </section>

        <footer>
          Dcode is maintained by <a href="https://github.com/deckardai">deckardai</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
