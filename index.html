<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Dcode by deckardai</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Dcode</h1>
      <h2 class="project-tagline">A url scheme to share code: dcode://</h2>
      <a href="https://github.com/deckardai/dcode" class="btn">View on GitHub</a>
      <a href="https://github.com/deckardai/dcode/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/deckardai/dcode/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="dcode" class="anchor" href="#dcode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>dcode://</h1>

<p>This repo describes and implements a URL scheme to share code.</p>

<h1>
<a id="link-to-code" class="anchor" href="#link-to-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Link-to-code</h1>

<p>A dCode URL represents a location in a codebase.</p>

<p>A dCode handler finds this code on a particular computer and opens it with the user's preferred editor.</p>

<p>URLs can be shared within a team, embedded in documentation, tickets, comments, or simply stored as personal bookmarks. Same as HTTP.</p>

<p>URLs support different degrees of precision and are capable of describing what a location means across code changes. It can mean "this exact place and time" or "this function definition in the latest master".</p>

<h2>
<a id="strict-mode" class="anchor" href="#strict-mode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Strict mode</h2>

<p>A dCode URL that contains a repository URL, commit ID, path, line and column numbers uniquely identifies a location. It may still contain other details for readability, or to allow friendly alternative behaviors of handlers.</p>

<h2>
<a id="human-friendly-mode" class="anchor" href="#human-friendly-mode" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Human-friendly mode</h2>

<p>URLs may omit all parts but the path. This makes it easy to write them by hand or to generate them from other tools. Handlers should make their best efforts to locate the code that best matches the URL.</p>

<h1>
<a id="examples" class="anchor" href="#examples" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Examples</h1>

<p>Absolute minimum. When referring to a file, simply add "dcode colon triple slash" in front of it.</p>

<pre><code>dcode:///some_pretty_specific/filename.js
</code></pre>

<p>If the path is not unique enough (like main.js), add the repo name between the slashes:</p>

<pre><code>dcode://my_project/main.js
</code></pre>

<p>Add basic in-file location:</p>

<pre><code>dcode://my_project/main.js?line=12
</code></pre>

<p>Make it robust to changes using words. The handler can be smart and find it even after the code has changed, within reason:</p>

<pre><code>dcode://my_project/main.js?line=12&amp;column=4&amp;word=MyComponent,function
</code></pre>

<p>Make it unambiguous across spacetime, complete with git url and commit id.</p>

<pre><code>dcode://my_project/README.md?git=git%40github.com%3Adeckardai%2Fdcode.git&amp;h=63d2f71&amp;line=12&amp;column=3
</code></pre>

<p>Of course, those would rather be generated by tools, for instance editor plugins.</p>

<h1>
<a id="specification" class="anchor" href="#specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Specification</h1>

<p>A dCode URL is composed of a mandatory path and optional repository and file information (spaces for readability):</p>

<pre><code>dcode:// repo_name / path ? repo_spec &amp; code_spec
</code></pre>

<p><code>path</code>: the path to a file relative to the root of a project, typically a git repository.</p>

<p><code>repo_name</code>: the common name of the repo, the last part of a repo url and typically the name of the local working directory.</p>

<p><code>repo_spec</code> can indicate version control details, such as branch names and commit ids.</p>

<p><code>code_spec</code> can indicate the location of code inside of a file.</p>

<p>Parameters, if present, should appear in the following order, so that people can learn to read them quickly.</p>

<h2>
<a id="repository-specification" class="anchor" href="#repository-specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Repository specification</h2>

<p><code>git</code>: a URL that can be interpreted by git. Must be URL-encoded.</p>

<p><code>hg</code>: a URL that can be interpreted by mercurial. Must be URL-encoded.</p>

<p><code>commit</code> or <code>h</code>: a specific commit hash.</p>

<p><code>branch</code> or <code>b</code>: a branch or tag.</p>

<p><code>date</code> or <code>d</code>: a date as YYYY-MM-DD, representing the last commit of the day in UTC, in the specified or the default branch.</p>

<h2>
<a id="code-specification" class="anchor" href="#code-specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Code specification</h2>

<p><code>line</code> or <code>l</code>: line number starting at 1.</p>

<p><code>column</code> or <code>c</code>: column number starting at 1.</p>

<p><code>word</code> or <code>w</code>: one or more words that should appear at the URL location. Several words can be given, separated by commas. Words should be interpreted as case-insensitive, unless they explicitely contain an uppercase letter. This allows handlers to find code across changes.</p>

<h2>
<a id="name" class="anchor" href="#name" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Name</h2>

<p>A name or comment can be added at the end of URLs like this: <code>#--Some_name</code>. This makes links easier to manage.</p>

<h1>
<a id="implementation" class="anchor" href="#implementation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Implementation</h1>

<p>The current implementation looks for all git or mercurial repositories in the home directory, by default. It can open files at the right place in any code editor. A couple of presets are provided. Contributions welcome!</p>

<h1>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h1>

<pre><code>git clone https://github.com/deckardai/dcode.git
cd dcode

# For Linux
make install-linux test-linux

# For Mac
make install-mac test-mac
</code></pre>

<p>This will install the url handler and open a test file after a few seconds.
DCode will likely select a basic text editor.</p>

<p>Edit <code>~/.dcode.json</code> to choose your actual IDE.</p>

<p>You should now be able to click links like this one, and end up right in your text editor.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/deckardai/dcode">Dcode</a> is maintained by <a href="https://github.com/deckardai">deckardai</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
